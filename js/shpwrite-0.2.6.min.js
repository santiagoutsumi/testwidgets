!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.shpwrite=e()}}(function(){return function e(t,n,r){function o(u,s){if(!n[u]){if(!t[u]){var f="function"==typeof require&&require;if(!s&&f)return f(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var a=n[u]={exports:{}};t[u][0].call(a.exports,function(e){var n=t[u][1][e];return o(n?n:e)},a,a.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){(function(n){"use strict";function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);i>o;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return r>n?-1:n>r?1:0}function o(e){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function i(e){return Object.prototype.toString.call(e)}function u(e){return o(e)?!1:"function"!=typeof n.ArrayBuffer?!1:"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e?e instanceof DataView?!0:e.buffer&&e.buffer instanceof ArrayBuffer?!0:!1:!1}function s(e){if(v.isFunction(e)){if(O)return e.name;var t=e.toString(),n=t.match(S);return n&&n[1]}}function f(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(O||!v.isFunction(e))return v.inspect(e);var t=s(e),n=t?": "+t:"";return"[Function"+n+"]"}function a(e){return f(c(e.actual),128)+" "+e.operator+" "+f(c(e.expected),128)}function l(e,t,n,r,o){throw new j.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function p(e,t){e||l(e,!0,t,"==",j.ok)}function y(e,t,n,s){if(e===t)return!0;if(o(e)&&o(t))return 0===r(e,t);if(v.isDate(e)&&v.isDate(t))return e.getTime()===t.getTime();if(v.isRegExp(e)&&v.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&i(e)===i(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;s=s||{actual:[],expected:[]};var f=s.actual.indexOf(e);return-1!==f&&f===s.expected.indexOf(t)?!0:(s.actual.push(e),s.expected.push(t),d(e,t,n,s))}return n?e===t:e==t}function g(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function d(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(v.isPrimitive(e)||v.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=g(e),i=g(t);if(o&&!i||!o&&i)return!1;if(o)return e=E.call(e),t=E.call(t),y(e,t,n);var u,s,f=I(e),c=I(t);if(f.length!==c.length)return!1;for(f.sort(),c.sort(),s=f.length-1;s>=0;s--)if(f[s]!==c[s])return!1;for(s=f.length-1;s>=0;s--)if(u=f[s],!y(e[u],t[u],n,r))return!1;return!0}function h(e,t,n){y(e,t,!0)&&l(e,t,n,"notDeepStrictEqual",h)}function m(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return Error.isPrototypeOf(t)?!1:t.call({},e)===!0}function x(e){var t;try{e()}catch(n){t=n}return t}function b(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=x(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&l(o,n,"Missing expected exception"+r);var i="string"==typeof r,u=!e&&v.isError(o),s=!e&&o&&!n;if((u&&i&&m(o,n)||s)&&l(o,n,"Got unwanted exception"+r),e&&o&&n&&!m(o,n)||!e&&o)throw o}var v=e("util/"),w=Object.prototype.hasOwnProperty,E=Array.prototype.slice,O=function(){return"foo"===function(){}.name}(),j=t.exports=p,S=/\s*function\s+([^\(\s]*)\s*/;j.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=a(this),this.generatedMessage=!0);var t=e.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=s(t),i=r.indexOf("\n"+o);if(i>=0){var u=r.indexOf("\n",i+1);r=r.substring(u+1)}this.stack=r}}},v.inherits(j.AssertionError,Error),j.fail=l,j.ok=p,j.equal=function(e,t,n){e!=t&&l(e,t,n,"==",j.equal)},j.notEqual=function(e,t,n){e==t&&l(e,t,n,"!=",j.notEqual)},j.deepEqual=function(e,t,n){y(e,t,!1)||l(e,t,n,"deepEqual",j.deepEqual)},j.deepStrictEqual=function(e,t,n){y(e,t,!0)||l(e,t,n,"deepStrictEqual",j.deepStrictEqual)},j.notDeepEqual=function(e,t,n){y(e,t,!1)&&l(e,t,n,"notDeepEqual",j.notDeepEqual)},j.notDeepStrictEqual=h,j.strictEqual=function(e,t,n){e!==t&&l(e,t,n,"===",j.strictEqual)},j.notStrictEqual=function(e,t,n){e===t&&l(e,t,n,"!==",j.notStrictEqual)},j["throws"]=function(e,t,n){b(!0,e,t,n)},j.doesNotThrow=function(e,t,n){b(!1,e,t,n)},j.ifError=function(e){if(e)throw e};var I=Object.keys||function(e){var t=[];for(var n in e)w.call(e,n)&&t.push(n);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":5}],2:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function u(e){if(p===clearTimeout)return clearTimeout(e);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){h&&g&&(h=!1,g.length?d=g.concat(d):m=-1,d.length&&f())}function f(){if(!h){var e=i(s);h=!0;for(var t=d.length;t;){for(g=d,d=[];++m<t;)g&&g[m].run();m=-1,t=d.length}g=null,h=!1,u(e)}}function c(e,t){this.fun=e,this.array=t}function a(){}var l,p,y=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(e){p=o}}();var g,d=[],h=!1,m=-1;y.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new c(e,t)),1!==d.length||h||i(f)},c.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=a,y.addListener=a,y.once=a,y.off=a,y.removeListener=a,y.removeAllListeners=a,y.emit=a,y.prependListener=a,y.prependOnceListener=a,y.listeners=function(e){return[]},y.binding=function(e){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(e){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},{}],3:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],4:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],5:[function(e,t,n){(function(t,r){function o(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(t)?r.showHidden=t:t&&n._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),f(r,e,r.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function u(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function f(e,t,r){if(e.customInspect&&t&&I(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(r,e);return b(o)||(o=f(e,o,r)),o}var i=c(e,t);if(i)return i;var u=Object.keys(t),d=s(u);if(e.showHidden&&(u=Object.getOwnPropertyNames(t)),S(t)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return a(t);if(0===u.length){if(I(t)){var h=t.name?": "+t.name:"";return e.stylize("[Function"+h+"]","special")}if(E(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(j(t))return e.stylize(Date.prototype.toString.call(t),"date");if(S(t))return a(t)}var m="",x=!1,v=["{","}"];if(g(t)&&(x=!0,v=["[","]"]),I(t)){var w=t.name?": "+t.name:"";m=" [Function"+w+"]"}if(E(t)&&(m=" "+RegExp.prototype.toString.call(t)),j(t)&&(m=" "+Date.prototype.toUTCString.call(t)),S(t)&&(m=" "+a(t)),0===u.length&&(!x||0==t.length))return v[0]+m+v[1];if(0>r)return E(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var O;return O=x?l(e,t,r,d,u):u.map(function(n){return p(e,t,r,d,n,x)}),e.seen.pop(),y(O,m,v)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return x(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,r,o){for(var i=[],u=0,s=t.length;s>u;++u)z(t,String(u))?i.push(p(e,t,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))}),i}function p(e,t,n,r,o,i){var u,s,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),z(r,o)||(u="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=h(n)?f(e,c.value,null):f(e,c.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(u)){if(i&&o.match(/^\d+$/))return s;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+s}function y(e,t,n){var r=0,o=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function g(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function h(e){return null===e}function m(e){return null==e}function x(e){return"number"==typeof e}function b(e){return"string"==typeof e}function v(e){return"symbol"==typeof e}function w(e){return void 0===e}function E(e){return O(e)&&"[object RegExp]"===L(e)}function O(e){return"object"==typeof e&&null!==e}function j(e){return O(e)&&"[object Date]"===L(e)}function S(e){return O(e)&&("[object Error]"===L(e)||e instanceof Error)}function I(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function L(e){return Object.prototype.toString.call(e)}function T(e){return 10>e?"0"+e.toString(10):e.toString(10)}function N(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var D=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,u=String(e).replace(D,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];i>n;s=r[++n])u+=h(s)||!O(s)?" "+s:" "+o(s);return u},n.deprecate=function(e,o){function i(){if(!u){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),u=!0}return e.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var u=!1;return i};var U,P={};n.debuglog=function(e){if(w(U)&&(U=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if(new RegExp("\\b"+e+"\\b","i").test(U)){var r=t.pid;P[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else P[e]=function(){};return P[e]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=g,n.isBoolean=d,n.isNull=h,n.isNullOrUndefined=m,n.isNumber=x,n.isString=b,n.isSymbol=v,n.isUndefined=w,n.isRegExp=E,n.isObject=O,n.isDate=j,n.isError=S,n.isFunction=I,n.isPrimitive=A,n.isBuffer=e("./support/isBuffer");var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",N(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!O(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":4,_process:2,inherits:3}],6:[function(e,t,n){t.exports.structure=e("./src/structure")},{"./src/structure":10}],7:[function(e,t,n){function r(e){function t(e){o(n,e)}var n={};return e.forEach(t),i(n)}function o(e,t){for(var n in t)e[n]=t[n];return e}function i(e){var t={},n=[];for(var r in e)t[r]=typeof e[r];for(var o in t){var i=f[t[o]];n.push({name:o,type:i,size:s[i]})}return n}function u(e){return e.reduce(function(e,t){return e+t.size},1)}var s=e("./fieldsize"),f={string:"C",number:"N","boolean":"L"};t.exports.multi=r,t.exports.bytesPer=u,t.exports.obj=i},{"./fieldsize":8}],8:[function(e,t,n){t.exports={C:254,L:1,D:8,N:18,M:18,F:18,B:8}},{}],9:[function(e,t,n){t.exports.lpad=function(e,t,n){for(;e.length<t;)e=n+e;return e},t.exports.rpad=function(e,t,n){for(;e.length<t;)e+=n;return e},t.exports.writeField=function(e,t,n,r){for(var o=0;t>o;o++)e.setUint8(r,n.charCodeAt(o)),r++;return r}},{}],10:[function(e,t,n){var r=(e("./fieldsize"),e("./lib")),o=e("./fields");t.exports=function(e){var t=o.multi(e),n=32*t.length+1,i=o.bytesPer(t),u=new ArrayBuffer(n+32+i*e.length),s=new Date,f=new DataView(u);f.setUint8(0,3),f.setUint8(1,s.getFullYear()-1900),f.setUint8(2,s.getMonth()),f.setUint8(3,s.getDate()),f.setUint32(4,e.length,!0);var c=n+32;return f.setUint16(8,c,!0),f.setUint16(10,i,!0),f.setInt8(n-1,13),t.forEach(function(e,t){e.name.split("").slice(0,8).forEach(function(e,n){f.setInt8(32+32*t+n,e.charCodeAt(0))}),f.setInt8(32+32*t+11,e.type.charCodeAt(0)),f.setInt8(32+32*t+16,e.size),"N"==e.type&&f.setInt8(32+32*t+17,0)}),offset=n+32,e.forEach(function(e,n){f.setUint8(offset,32),offset++,t.forEach(function(t){var n=e[t.name]||0;switch(t.type){case"L":f.setUint8(offset,n?84:70),offset++;break;case"D":offset=r.writeField(f,8,r.lpad(n.toString(),8," "),offset);break;case"N":offset=r.writeField(f,t.size,r.lpad(n.toString(),t.size," ").substr(0,18),offset);break;case"C":offset=r.writeField(f,t.size,r.rpad(n.toString(),t.size," "),offset);break;default:throw new Error("Unknown field type")}})}),f.setUint8(offset-1,26),f}},{"./fields":7,"./fieldsize":8,"./lib":9}],11:[function(e,t,n){var r=e("./zip");t.exports=function(e,t){var n=r(e,t);location.href="data:application/zip;base64,"+n}},{"./zip":20}],12:[function(e,t,n){t.exports.enlarge=function(e,t){return t[0]<e.xmin&&(e.xmin=t[0]),t[0]>e.xmax&&(e.xmax=t[0]),t[1]<e.ymin&&(e.ymin=t[1]),t[1]>e.ymax&&(e.ymax=t[1]),e},t.exports.enlargeExtent=function(e,t){return t.xmax>e.xmax&&(e.xmax=t.xmax),t.xmin<e.xmin&&(e.xmin=t.xmin),t.ymax>e.ymax&&(e.ymax=t.ymax),t.ymin<e.ymin&&(e.ymin=t.ymin),e},t.exports.blank=function(){return{xmin:Number.MAX_VALUE,ymin:Number.MAX_VALUE,xmax:-Number.MAX_VALUE,ymax:-Number.MAX_VALUE}}},{}],13:[function(e,t,n){function r(e){function t(e){o(n,e.properties)}var n={};return e.forEach(t),i(n)}function o(e,t){for(var n in t)e[n]=t[n];return e}function i(e){var t={},n=[];for(var r in e)t[r]=typeof e[r];for(var o in t)n.push({name:o,type:u[t[o]]});return n}var u=e("./types").jstypes;t.exports.geojson=r,t.exports.obj=i},{"./types":18}],14:[function(e,t,n){function r(e,t){return function(n){var r=n.features.filter(u(e));return{geometries:r.map(o),properties:r.map(i),type:t}}}function o(e){return void 0!==e.geometry.coordinates[0]&&void 0!==e.geometry.coordinates[0][0]&&void 0!==e.geometry.coordinates[0][0][0]?e.geometry.coordinates[0]:e.geometry.coordinates}function i(e){return e.properties}function u(e){return function(t){return t.geometry.type===e}}t.exports.point=r("Point","POINT"),t.exports.line=r("LineString","POLYLINE"),t.exports.polygon=r("Polygon","POLYGON")},{}],15:[function(e,t,n){var r=e("./extent");t.exports.write=function(e,t,n,r){var o=28,i=100,u=0,s=0;e.forEach(function(e,t){n.setInt32(u,t),n.setInt32(u+4,10),n.setInt32(u+8,1,!0),n.setFloat64(u+12,e[0],!0),n.setFloat64(u+20,e[1],!0),r.setInt32(s,i/2),r.setInt32(s+4,10),s+=8,u+=o,i+=o})},t.exports.extent=function(e){return e.reduce(function(e,t){return r.enlarge(e,t)},r.blank())},t.exports.shxLength=function(e){return 8*e.length},t.exports.shpLength=function(e){return 28*e.length}},{"./extent":12}],16:[function(e,t,n){function r(e,t){return void 0===t&&(t=[]),"object"==typeof e[0][0]?e.reduce(function(e,t){return e.concat(r(t))},t):e}var o=e("./extent");t.exports.write=function(e,t,n,i,u){function s(e,t){var s=r(e),l=16*s.length+48,p=s.reduce(function(e,t){return o.enlarge(e,t)},o.blank());i.setInt32(c,a/2),i.setInt32(c+4,l/2),c+=8,a+=l+8,n.setInt32(f,t+1),n.setInt32(f+4,l/2),n.setInt32(f+8,u,!0),n.setFloat64(f+12,p.xmin,!0),n.setFloat64(f+20,p.ymin,!0),n.setFloat64(f+28,p.xmax,!0),n.setFloat64(f+36,p.ymax,!0),n.setInt32(f+44,1,!0),n.setInt32(f+48,s.length,!0),n.setInt32(f+52,0,!0),s.forEach(function(e,t){n.setFloat64(f+56+16*t,e[0],!0),n.setFloat64(f+56+16*t+8,e[1],!0)}),f+=l+8}var f=0,c=0,a=100;e.forEach(s)},t.exports.shpLength=function(e){return 56*e.length+16*r(e).length},t.exports.shxLength=function(e){return 8*e.length},t.exports.extent=function(e){return r(e).reduce(function(e,t){return o.enlarge(e,t)},o.blank())}},{"./extent":12}],17:[function(e,t,n){t.exports='GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]]'},{}],18:[function(e,t,n){t.exports.geometries={NULL:0,POINT:1,POLYLINE:3,POLYGON:5,MULTIPOINT:8,POINTZ:11,POLYLINEZ:13,POLYGONZ:15,MULTIPOINTZ:18,POINTM:21,POLYLINEM:23,POLYGONM:25,MULTIPOINTM:28,MULTIPATCH:31}},{}],19:[function(e,t,n){function r(e,t,n,r){var c=u.geometries[t],a=l[c],p=100+a.shpLength(n),y=100+a.shxLength(n),g=new ArrayBuffer(p),d=new DataView(g),h=new ArrayBuffer(y),m=new DataView(h),x=a.extent(n);o(d,c),o(m,c),i(x,d),i(x,m),a.write(n,x,new DataView(g,100),new DataView(h,100),c),d.setInt32(24,p/2),m.setInt32(24,50+4*n.length);var b=s.structure(e);r(null,{shp:d,shx:m,dbf:b,prj:f})}function o(e,t){e.setInt32(0,9994),e.setInt32(28,1e3,!0),e.setInt32(32,t,!0)}function i(e,t){t.setFloat64(36,e.xmin,!0),t.setFloat64(44,e.ymin,!0),t.setFloat64(52,e.xmax,!0),t.setFloat64(60,e.ymax,!0)}var u=e("./types"),s=e("dbf"),f=e("./prj"),c=(e("./extent"),e("./fields"),e("assert"),e("./points")),a=e("./poly"),l={1:c,5:a,3:a};t.exports=r},{"./extent":12,"./fields":13,"./points":15,"./poly":16,"./prj":17,"./types":18,assert:1,dbf:6}],20:[function(e,t,n){(function(n){var r=e("./write"),o=e("./geojson"),i=e("./prj");t.exports=function(e,t){var u=new JSZip3,s=t&&t.wkt?t.wkt:i;[o.point(e),o.line(e),o.polygon(e)].forEach(function(e){e.geometries.length&&e.geometries[0].length&&r(e.properties,e.type,e.geometries,function(n,r){var o=t&&t.types[e.type.toLowerCase()]?t.types[e.type.toLowerCase()]:e.type;u.file(o+".shp",r.shp.buffer,{binary:!0}),u.file(o+".shx",r.shx.buffer,{binary:!0}),u.file(o+".dbf",r.dbf.buffer,{binary:!0}),u.file(o+".prj",s)})});var f={type:"blob",compression:"STORE"};return n.browser||(f.type="nodebuffer"),u.generateAsync(f)}}).call(this,e("_process"))},{"./geojson":14,"./prj":17,"./write":19,_process:2}],21:[function(e,t,n){t.exports.download=e("./src/download"),t.exports.write=e("./src/write"),t.exports.zip=e("./src/zip")},{"./src/download":11,"./src/write":19,"./src/zip":20}]},{},[21])(21)});